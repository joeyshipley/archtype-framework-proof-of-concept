/* ArchType Framework JS - Combined & Minified */
htmx.config.includeIndicatorStyles=false;document.body.addEventListener('htmx:configRequest',function(e){var t=document.querySelector('meta[name="csrf-token"]')?.content;if(t)e.detail.headers['X-XSRF-TOKEN']=t});htmx.defineExtension('component-context',{onEvent:function(n,e){if(n==='htmx:configRequest'){var v=document.querySelectorAll('[data-view]'),c=Array.from(v).map(function(el){return{id:el.id,viewType:el.dataset.view,domain:el.dataset.domain}});e.detail.headers['X-Component-Context']=JSON.stringify(c)}}});var dragProxy=null,draggedItem=null,sourceZone=null;document.addEventListener('dragstart',function(e){var i=e.target.closest('[draggable="true"]');if(!i)return;draggedItem=i;sourceZone=i.closest('[data-drop-zone]');if(!sourceZone)return;dragProxy=i.cloneNode(true);dragProxy.className='drag-proxy';dragProxy.style.width=i.offsetWidth+'px';dragProxy.style.left=e.clientX+'px';dragProxy.style.top=e.clientY+'px';document.body.appendChild(dragProxy);var g=document.createElement('div');g.style.cssText='position:absolute;top:-1000px;width:1px;height:1px;';document.body.appendChild(g);e.dataTransfer.setDragImage(g,0,0);e.dataTransfer.effectAllowed='move';requestAnimationFrame(function(){g.remove()});i.classList.add('dragging')});document.addEventListener('dragover',function(e){if(!draggedItem)return;e.preventDefault();if(dragProxy){dragProxy.style.left=e.clientX+'px';dragProxy.style.top=e.clientY+'px'}document.querySelectorAll('.drag-over').forEach(function(el){el.classList.remove('drag-over')});var z=e.target.closest('[data-drop-zone]');if(z&&z!==sourceZone)z.classList.add('drag-over')});document.addEventListener('drop',function(e){var z=e.target.closest('[data-drop-zone]');if(z&&z!==sourceZone&&draggedItem){var id=draggedItem.dataset.dragId,a=z.dataset.dropAction;if(id&&a)htmx.ajax('POST',a,{values:{id:id},swap:'none'})}cleanup()});document.addEventListener('dragend',cleanup);function cleanup(){if(dragProxy){dragProxy.remove();dragProxy=null}if(draggedItem){draggedItem.classList.remove('dragging');draggedItem=null}document.querySelectorAll('.drag-over').forEach(function(el){el.classList.remove('drag-over')});sourceZone=null}
